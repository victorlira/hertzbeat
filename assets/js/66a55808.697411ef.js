"use strict";(self.webpackChunkhertzbeat=self.webpackChunkhertzbeat||[]).push([[45250],{15680:(e,t,o)=>{o.d(t,{xA:()=>p,yg:()=>m});var n=o(96540);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},p=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(o),m=a,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||r;return o?n.createElement(h,i(i({ref:t},p),{},{components:o})):n.createElement(h,i({ref:t},p))}));function m(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var c=2;c<r;c++)i[c]=o[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}u.displayName="MDXCreateElement"},47871:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var n=o(58168),a=(o(96540),o(15680));const r={id:"issue",title:"Common issues",sidebar_label:"Common issues"},i=void 0,s={unversionedId:"help/issue",id:"version-v1.4.x/help/issue",title:"Common issues",description:"Monitoring common issues",source:"@site/versioned_docs/version-v1.4.x/help/issue.md",sourceDirName:"help",slug:"/help/issue",permalink:"/docs/v1.4.x/help/issue",draft:!1,editUrl:"https://github.com/apache/hertzbeat/edit/master/home/versioned_docs/version-v1.4.x/help/issue.md",tags:[],version:"v1.4.x",frontMatter:{id:"issue",title:"Common issues",sidebar_label:"Common issues"},sidebar:"docs",previous:{title:"Alert Huawei Cloud SMN Notifications",permalink:"/docs/v1.4.x/help/alert_smn"},next:{title:"Contributors",permalink:"/docs/v1.4.x/others/developer"}},l={},c=[{value:"Monitoring common issues",id:"monitoring-common-issues",level:3},{value:"Docker Deployment common issues",id:"docker-deployment-common-issues",level:3},{value:"Package Deployment common issues",id:"package-deployment-common-issues",level:3}],p={toc:c};function d(e){let{components:t,...o}=e;return(0,a.yg)("wrapper",(0,n.A)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h3",{id:"monitoring-common-issues"},"Monitoring common issues"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Page feedback\uff1amonitor.host: Monitoring Host must be ipv4, ipv6 or domain name"))),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"As shown in the information, the entered monitoring Host must be ipv4, ipv6 or domain name, and cannot carry a protocol header, such as http")),(0,a.yg)("ol",{start:2},(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"The website API and other monitoring feedback statusCode:403 or 401, but the opposite end service itself does not need authentication, and the direct access of the browser is OK"))),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"Please check whether it is blocked by the firewall. For example, BaoTa/aaPanel have set the blocking of ",(0,a.yg)("inlineCode",{parentName:"p"},"User-Agent=Apache-HttpClient")," in the request header by default. If it is blocked, please delete this blocking rule. (user-agent has been simulated as a browser in the v1.0.beat5 version. This problem does not exist)")),(0,a.yg)("ol",{start:3},(0,a.yg)("li",{parentName:"ol"},"Ping connectivity monitoring exception when installing hertzbeat for package deployment.",(0,a.yg)("br",{parentName:"li"}),"The hertzbeat installed and deployed by the installation package is not available for ping connectivity monitoring, but local direct ping is available \u3002")),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"The deployment of the installation package requires configuring the root permission of the Java virtual machine to start hertzbeat to use ICMP. If the root permission is not enabled, judge whether port 7 of telnet opposite end is opened.",(0,a.yg)("br",{parentName:"p"}),"\n","When you install HertzBeat via DockerDocker root is enabled by default. No such problem.",(0,a.yg)("br",{parentName:"p"}),"\n","See ",(0,a.yg)("a",{parentName:"p",href:"https://stackoverflow.com/questions/11506321/how-to-ping-an-ip-address"},"https://stackoverflow.com/questions/11506321/how-to-ping-an-ip-address"))),(0,a.yg)("ol",{start:4},(0,a.yg)("li",{parentName:"ol"},"If the history chart on the monitoring page is not displayed\uff0cpopup ","[please configure dependency service on TDengine time series database]")),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"As shown in the popup window\uff0cthe premise of history chart display is that you need install and configure hertzbeat's dependency service - TDengine database.\nInstallation and initialization this database refers to ",(0,a.yg)("a",{parentName:"p",href:"../start/tdengine-init"},"TDengine Installation and Initialization"),".")),(0,a.yg)("h3",{id:"docker-deployment-common-issues"},"Docker Deployment common issues"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"MYSQL, TDENGINE and HertzBeat are deployed on the same host by Docker,HertzBeat use localhost or 127.0.0.1 connect to the database but fail"),(0,a.yg)("br",{parentName:"li"}),"The problems lies in Docker container failed to visit and connect localhost port. Beacuse the docker default network mode is Bridge mode which can't access loacl machine through localhost.")),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"Solution A\uff1aConfigure application.yml. Change database connection address from localhost to external IP of the host machine.",(0,a.yg)("br",{parentName:"p"}),"\n","Solution B\uff1aUse the Host network mode to start Docker, namely making Docker container and hosting share network. ",(0,a.yg)("inlineCode",{parentName:"p"},"docker run -d --network host ....."))),(0,a.yg)("ol",{start:2},(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"According to the process deploy\uff0cvisit http://ip:1157/ no interface"),(0,a.yg)("br",{parentName:"li"}),"Please refer to the following points to troubleshoot issuess\uff1a")),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"one\uff1aWhether the MySQL database and tdengine database as dependent services have been successfully started, whether the corresponding hertzbeat database has been created, and whether the SQL script has been executed.",(0,a.yg)("br",{parentName:"p"}),"\n","two\uff1aCheck whether dependent service, IP account and password configuration is correct in HertzBeat's configuration file ",(0,a.yg)("inlineCode",{parentName:"p"},"application.yml"),"."),(0,a.yg)("blockquote",{parentName:"blockquote"},(0,a.yg)("p",{parentName:"blockquote"},"three\uff1a",(0,a.yg)("inlineCode",{parentName:"p"},"docker logs hertzbeat")," Check whether the container log has errors. If you haven't solved the issue, report it to the communication group or community."))),(0,a.yg)("ol",{start:3},(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Log an error TDengine connection or insert SQL failed"))),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"one\uff1aCheck whether database account and password configured is correct, the database is created.",(0,a.yg)("br",{parentName:"p"}),"\n","two\uff1aIf you install TDengine2.3+ version, you must execute ",(0,a.yg)("inlineCode",{parentName:"p"},"systemctl start taosadapter")," to start adapter in addition to start the server.")),(0,a.yg)("h3",{id:"package-deployment-common-issues"},"Package Deployment common issues"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"According to the process deploy\uff0cvisit http://ip:1157/ no interface"),(0,a.yg)("br",{parentName:"li"}),"Please refer to the following points to troubleshoot issuess:")),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"one\uff1aWhether the MySQL database and tdengine database as dependent services have been successfully started, whether the corresponding hertzbeat database has been created, and whether the SQL script has been executed.",(0,a.yg)("br",{parentName:"p"}),"\n","two\uff1aCheck whether dependent services, IP account and password configuration is correct in HertzBeat's configuration file ",(0,a.yg)("inlineCode",{parentName:"p"},"hertzbeat/config/application.yml"),".",(0,a.yg)("br",{parentName:"p"}),"\n","three\uff1a Check whether the running log has errors in ",(0,a.yg)("inlineCode",{parentName:"p"},"hertzbeat/logs/")," directory. If you haven't solved the issue, report it to the communication group or community.")),(0,a.yg)("ol",{start:2},(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("strong",{parentName:"li"},"Log an error TDengine connection or insert SQL failed"))),(0,a.yg)("blockquote",null,(0,a.yg)("p",{parentName:"blockquote"},"one\uff1aCheck whether database account and password configured is correct, the database is created.",(0,a.yg)("br",{parentName:"p"}),"\n","two\uff1aIf you install TDengine2.3+ version, you must execute ",(0,a.yg)("inlineCode",{parentName:"p"},"systemctl start taosadapter")," to start adapter in addition to start the server.")))}d.isMDXComponent=!0}}]);